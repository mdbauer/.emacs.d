library(tidyverse)
summary(lm(hwy ~ displ, mpg))
summary(lm(cty ~ displ, mpg))
summary(lm(hwy ~ displ + I(displ^2), mpg))

ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy, color = class))
ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy, color = class, alpha = class))
ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy, alpha = class), color = "steelblue")
ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy, color = cty, size = cty<20))

## facets
ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy)) +
    facet_wrap(~ class, nrow=2)
ggplot(data = mpg) +
    geom_point(mapping = aes(x = displ, y = hwy)) +
    facet_grid(cyl ~ .)

## geoms
ggplot(data = mpg) +
    geom_smooth(mapping = aes(x = displ, y = hwy, linetype=factor(cyl)), span=1)
ggplot(data = mpg) +
    geom_smooth(mapping = aes(x = displ, y = hwy, group=factor(cyl)), span=1) +
    geom_point(mapping = aes(x = displ, y = hwy, color = factor(cyl)))
ggplot(data = mpg, mapping = aes(x = displ, y = cty)) +
    geom_smooth(aes(group=factor(cyl)), span=1) +
    geom_point(aes(color = factor(cyl)))
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point() +
      geom_smooth(se = FALSE)

ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
    geom_smooth(aes(linetype=drv), se=FALSE) +
    geom_point(aes(color=drv))

## statistical transformations
ggplot(data = diamonds) +
    geom_bar(mapping = aes(x = cut))
ggplot(data = diamonds) +
    geom_smooth(aes(x = carat, y = price, color = clarity))
